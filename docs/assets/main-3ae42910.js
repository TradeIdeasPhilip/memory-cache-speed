(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var o={};Object.defineProperty(o,"__esModule",{value:!0});o.permutations=o.polarToRectangular=o.makeBoundedLinear=o.makeLinear=o.sum=o.countMap=S=o.initializedArray=o.count=o.zip=o.FIGURE_SPACE=o.NON_BREAKING_SPACE=o.dateIsValid=o.MIN_DATE=o.MAX_DATE=o.makePromise=o.filterMap=o.pick=o.pickAny=o.csvStringToArray=o.parseTimeT=o.parseIntX=o.parseFloatX=o.getAttribute=o.followPath=o.parseXml=o.testXml=o.sleep=o.assertClass=void 0;function D(e,t,n="Assertion Failed."){const r=i=>{throw new Error(`${n}  Expected type:  ${t.name}.  Found type:  ${i}.`)};if(e===null)r("null");else if(typeof e!="object")r(typeof e);else if(!(e instanceof t))r(e.constructor.name);else return e;throw new Error("wtf")}o.assertClass=D;function x(e){return new Promise(t=>setTimeout(t,e))}o.sleep=x;function T(e){const n=new DOMParser().parseFromString(e,"application/xml");for(const r of Array.from(n.querySelectorAll("parsererror")))if(r instanceof HTMLElement)return{error:r};return{parsed:n}}o.testXml=T;function U(e){if(e!==void 0)return T(e)?.parsed?.documentElement}o.parseXml=U;function A(e,...t){for(const n of t){if(e===void 0)return;if(typeof n=="number")e=e.children[n];else{const r=e.getElementsByTagName(n);if(r.length!=1)return;e=r[0]}}return e}o.followPath=A;function $(e,t,...n){if(t=A(t,...n),t!==void 0&&t.hasAttribute(e))return t.getAttribute(e)??void 0}o.getAttribute=$;function L(e){if(e==null)return;const t=parseFloat(e);if(isFinite(t))return t}o.parseFloatX=L;function C(e){const t=L(e);if(t!==void 0)return t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||t!=Math.floor(t)?void 0:t}o.parseIntX=C;function z(e){if(typeof e=="string"&&(e=C(e)),e!=null&&!(e<=0))return new Date(e*1e3)}o.parseTimeT=z;const G=e=>{const t=/(,|\r?\n|\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^,\r\n]*))/gi,n=[[]];let r;for(;r=t.exec(e);)r[1].length&&r[1]!==","&&n.push([]),n[n.length-1].push(r[2]!==void 0?r[2].replace(/""/g,'"'):r[3]);return n};o.csvStringToArray=G;function j(e){const t=e.values().next();if(!t.done)return t.value}o.pickAny=j;function V(e){return e[Math.random()*e.length|0]}o.pick=V;function K(e,t){const n=[];return e.forEach((r,i)=>{const s=t(r,i);s!==void 0&&n.push(s)}),n}o.filterMap=K;function q(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}o.makePromise=q;o.MAX_DATE=new Date(864e13);o.MIN_DATE=new Date(-864e13);function Y(e){return isFinite(e.getTime())}o.dateIsValid=Y;o.NON_BREAKING_SPACE=" ";o.FIGURE_SPACE=" ";function*J(...e){const t=e.map(n=>n[Symbol.iterator]());for(;;){const n=t.map(r=>r.next());if(n.some(({done:r})=>r))break;yield n.map(({value:r})=>r)}}o.zip=J;function*Q(e=0,t=1/0,n=1){for(let r=e;r<t;r+=n)yield r}o.count=Q;function k(e,t){const n=[];for(let r=0;r<e;r++)n.push(t(r));return n}var S=o.initializedArray=k;o.countMap=k;function W(e){return e.reduce((t,n)=>t+n,0)}o.sum=W;function Z(e,t,n,r){const i=(r-t)/(n-e);return function(s){return(s-e)*i+t}}o.makeLinear=Z;function ee(e,t,n,r){n<e&&([e,t,n,r]=[n,r,e,t]);const i=(r-t)/(n-e);return function(s){return s<=e?t:s>=n?r:(s-e)*i+t}}o.makeBoundedLinear=ee;function te(e,t){return{x:Math.sin(t)*e,y:Math.cos(t)*e}}o.polarToRectangular=te;function*B(e,t=[]){if(e.length==0)yield t;else for(let n=0;n<e.length;n++){const r=e[n],i=[...t,r],s=[...e.slice(0,n),...e.slice(n+1)];yield*B(s,i)}}o.permutations=B;var a={};Object.defineProperty(a,"__esModule",{value:!0});a.download=a.createElementFromHTML=a.getHashInfo=a.getAudioBalanceControl=a.getBlobFromCanvas=a.loadDateTimeLocal=c=a.getById=void 0;const N=o;function ne(e,t){const n=document.getElementById(e);if(!n)throw new Error("Could not find element with id "+e+".  Expected type:  "+t.name);if(n instanceof t)return n;throw new Error("Element with id "+e+" has type "+n.constructor.name+".  Expected type:  "+t.name)}var c=a.getById=ne;function re(e,t,n="milliseconds"){let r;switch(n){case"minutes":{r=t.getSeconds()*1e3+t.getMilliseconds();break}case"seconds":{r=t.getMilliseconds();break}case"milliseconds":{r=0;break}default:throw new Error("wtf")}e.valueAsNumber=+t-t.getTimezoneOffset()*6e4-r}a.loadDateTimeLocal=re;function oe(e){const{reject:t,resolve:n,promise:r}=(0,N.makePromise)();return e.toBlob(i=>{i?n(i):t(new Error("blob is null!"))}),r}a.getBlobFromCanvas=oe;function ie(e){const t=new AudioContext,n=t.createMediaElementSource(e),r=new StereoPannerNode(t,{pan:0});return n.connect(r).connect(t.destination),i=>{r.pan.value=i}}a.getAudioBalanceControl=ie;function se(){const e=new Map;return/^#?(.*)$/.exec(location.hash.replace("+","%20"))[1].split("&").forEach(r=>{const i=r.split("=",2);if(i.length==2){const s=decodeURIComponent(i[0]),l=decodeURIComponent(i[1]);e.set(s,l)}}),e}a.getHashInfo=se;function ae(e,t){var n=document.createElement("div");return n.innerHTML=e.trim(),(0,N.assertClass)(n.firstChild,t,"createElementFromHTML:")}a.createElementFromHTML=ae;function le(e,t){var n=document.createElement("a");if(n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),document.createEvent){var r=document.createEvent("MouseEvents");r.initEvent("click",!0,!0),n.dispatchEvent(r)}else n.click()}a.download=le;class v{constructor(){throw new Error("wtf")}static#e=Symbol("Namer description");static#t=0;static add(t,n){if(this.#e in t)throw new Error("wtf — duplicate object name");if(typeof n!="string"&&(n=n[this.#e]),typeof n!="string")throw new Error("wtf");t[this.#e]=n;const r=`#${this.#t} ${n}`;this.#t++,t.toString=()=>r}}function F(e){const t=new Uint32Array(e),n=S(e-1,s=>s+1);let r=0;for(;n.length>0;){const s=Math.random()*n.length|0;t[r]=n[s],n[s]=n[n.length-1],n.pop(),r=t[r]}t[r]=0;const i=`Random ${e}`;return v.add(t,i),t}function _(e,t){const n=new Uint32Array(e);let r=0;for(let s=0;s<t;s++)for(let l=s;l<e;l+=t)n[r]=l,r=l;n[r]=0;const i=`Interleaved ${e} ⋰ ${t}`;return v.add(n,i),n}function P(e){const t=new Uint32Array(e);return v.add(t,e),t}window.createRandom=F;window.createInterleaved=_;window.copyMemory=P;const f=c("list",HTMLSelectElement),ce=c("bytes",HTMLSpanElement),H=c("copy",HTMLButtonElement),O=c("release",HTMLButtonElement),g=c("test",HTMLButtonElement),m=c("repetitionCount",HTMLInputElement),d=c("itemCount",HTMLInputElement),y=c("randomData",HTMLButtonElement),R=c("inOrder",HTMLButtonElement),h=c("partitionCount",HTMLInputElement);function ue(e){const t=+e;if(!isFinite(t))return;const n=Number.parseInt(e);if(isFinite(n)&&t==n)return n}function p(e){const t=ue(e);if(!(t===void 0||t<=0))return t}function w(e){return p(e)!==void 0}function E(){const e=[...f.selectedOptions],n=!(e.length>0);H.disabled=n,O.disabled=n,w(m.value)?(m.style.backgroundColor="",g.disabled=n):(m.style.backgroundColor="pink",g.disabled=!0);const r=w(d.value);r?(d.style.backgroundColor="",y.disabled=!1):(d.style.backgroundColor="pink",y.disabled=!0);const i=w(h.value);h.style.backgroundColor=i?"":"pink",R.disabled=!(r&&i);let s=0;e.forEach(l=>{const u=b(l);s+=u.length*u.BYTES_PER_ELEMENT}),ce.innerText=s.toLocaleString()}window.updateGUI=E;[m,h,d,f].forEach(e=>e.addEventListener("input",E));E();const X=Symbol("memory");function de(e,t){e[X]=t}function b(e){const t=e[X];if(t instanceof Uint32Array)return t;throw new Error("wtf")}function I(e){const t=document.createElement("option");return t.innerText=e.toString(),de(t,e),f.appendChild(t),t}y.addEventListener("click",()=>{const e=p(d.value);if(e===void 0)throw new Error("wtf");const t=F(e);I(t)});R.addEventListener("click",()=>{const e=p(d.value);if(e===void 0)throw new Error("wtf");const t=p(h.value);if(t===void 0)throw new Error("wtf");const n=_(e,t);I(n)});H.addEventListener("click",()=>{[...f.selectedOptions].forEach(t=>I(P(b(t))))});O.addEventListener("click",()=>{[...f.selectedOptions].forEach(t=>t.remove()),E()});function fe(e,t=1){const n=performance.now();for(let i=0;i<t;i++)e.forEach(s=>{const l=s.length-1;let u=0;for(let M=0;M<l;M++)if(u=s[u],u==0)throw new Error("wtf");if(u=s[u],u!=0)throw new Error("wtf")});return performance.now()-n}g.addEventListener("click",()=>{const e=[...f.selectedOptions],t=p(m.value);if(t===void 0)throw new Error("wtf — The button should have been disabled.");try{const n=fe(e.map(b),t);console.log({totalMilliseconds:n,repetitionCount:t,millisecondsPerRepetition:n/t})}catch(n){console.error("test aborted",n)}});
